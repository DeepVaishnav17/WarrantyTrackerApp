@model WarrantyTracker.ViewModels.ServiceRecordEditViewModel
@{
    ViewData["Title"] = "Edit Service Record";
}

<h2>Edit Service Record</h2>

<form asp-action="Edit" method="post">
    <input type="hidden" asp-for="Id" />
    <input type="hidden" asp-for="ApplianceId" />

    <div class="form-group">
        <label asp-for="ServiceDate"></label>
        <input asp-for="ServiceDate" class="form-control" type="date"
               max="@DateTime.Today.ToString("yyyy-MM-dd")"
               min="@(ViewBag.PurchaseDate ?? DateTime.Parse("1900-01-01").ToString("yyyy-MM-dd"))" />
        <span asp-validation-for="ServiceDate" class="text-danger"></span>

        <small class="form-text text-muted">
            Purchase date: <strong>@(ViewBag.PurchaseDate ?? "N/A")</strong>. Service may be done the same day as purchase.
            Service date must be between purchase date and today.
        </small>
    </div>

    <div class="form-group">
        <label asp-for="VendorName"></label>
        <input asp-for="VendorName" class="form-control" />
        <span asp-validation-for="VendorName" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="VendorContact"></label>
        <input asp-for="VendorContact" class="form-control" />
        <span asp-validation-for="VendorContact" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="Cost"></label>
        <input asp-for="Cost" class="form-control" />
        <span asp-validation-for="Cost" class="text-danger"></span>
    </div>

    <div class="form-group">
        <label asp-for="Notes"></label>
        <textarea asp-for="Notes" class="form-control"></textarea>
        <span asp-validation-for="Notes" class="text-danger"></span>
    </div>

    <button type="submit" class="btn btn-primary">Update</button>
    <a asp-action="Index" asp-route-applianceId="@Model.ApplianceId" class="btn btn-secondary">Cancel</a>
</form>
